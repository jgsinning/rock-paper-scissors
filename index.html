<!DOCTYPE html>
<html>
<head>
  <title>Rock, Paper, Scissors</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
    let toCase = str => str.slice(0,1).toUpperCase() + str.slice(1).toLowerCase()
    function game(){
        function toNum(str){
            if(str=="Rock"){
                return 0
            } else if(str=="Paper"){
                return 1
            } else if(str=="Scissors"){
                return 2
            }
            return -1
        }
        let toMove = num => num==0 ? "Rock" : (num==1 ? "Paper" : "Scissors")

        //check this section
        let satisfiedMove = false
        while(!satisfiedMove){
            let playerSelection = prompt("Choose your move")
            if(toNum(toCase(playerSelection))!=-1){
                satisfiedMove = true
            }
        }


        playerSelection = toNum(toCase(playerSelection))
        let computerSelection = Math.floor(3*Math.random())
        if(playerSelection==computerSelection){
            console.log("Tie")
        } else if(playerSelection==computerSelection+1 || (playerSelection==0 && computerSelection==2)){
            console.log(`${toMove(playerSelection)} beats ${toMove(computerSelection)}`)
            console.log("Player wins")
        } else {
            console.log(`${toMove(computerSelection)} beats ${toMove(playerSelection)}`)
            console.log("Computer wins")
        }
    }
    for(let i=0; i<5; i++){
        game()
    }
  </script>
</body>
</html>